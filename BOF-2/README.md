> Source file: `bof.c`

> Executable: `bof`
---
Let's see what we have in our directory!
```
$ ls -l
-rwsr-xr-x 1 rako rako 7348 Jul 28 22:36 bof
-rw-r--r-- 1 rako rako  308 Jul 28 22:36 bof.c
-r-------- 1 root rako   19 Jul 28 22:37 flag.txt

$ cat flag.txt 
cat: flag.txt: Permission denied
```
The user don't have permission to read `flag.txt`. But see the ELF file which is has `SET UID` set. 

This means if we run the `bof` executable then it will run with elevated privileges.

Lets move eyes towards the source code.
```
func(0xdeadbeef);
             \
              \
void func(int key){
  ...
  if(key == 0xcafebabe){
    system("/bin/sh");
  }
  ...
}
```
Based on the source code, you will get `system shell` only if `0xdeadbeef ==  0xcafebabe` (Which is not-possible!!)

Actually, It's possible if the binary has vulnerabilities!!

```
$ checksec --file=bof
[*] '/root/ELF-Exploitation/BOF-2/bof'
    Arch:     i386-32-little
    RELRO:    Partial RELRO
    Stack:    No canary found
    NX:       NX enabled
    PIE:      No PIE (0x8048000)
```
As you can see, there is `no canary protection` at all here!

### CONTINUED 2MORO
